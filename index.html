<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Special - Shining Star ğŸŒŸ</title>
    <style>
        :root { --primary: #ff4d6d; --star-gold: #fff700; --deep-purple: #1a0033; }
        
        body, html { margin: 0; padding: 0; background: #050505; color: white; font-family: 'Poppins', sans-serif; overflow-x: hidden; }

        /* Falling Decorations */
        .particle { position: fixed; top: -10%; z-index: 999; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* Navigation */
        section { min-height: 100vh; display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; }
        #countdown-sec { display: flex; background: radial-gradient(circle, var(--deep-purple), #000); }

        /* 3D Photo Slider */
        .slider-3d { position: relative; width: 180px; height: 260px; transform-style: preserve-3d; animation: rotate 25s linear infinite; margin: 80px 0; }
        @keyframes rotate { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }
        .item { position: absolute; inset: 0; border: 2px solid var(--primary); border-radius: 15px; overflow: hidden; box-shadow: 0 0 15px var(--primary); }
        .item img { width: 100%; height: 100%; object-fit: cover; }

        /* Cake Section */
        .cake-container { font-size: 120px; cursor: pointer; filter: drop-shadow(0 0 20px pink); transition: transform 0.3s; }
        
        /* Hidden Letter */
        .hidden-letter {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 20px;
            border: 2px solid var(--star-gold);
            max-width: 500px;
            display: none;
            animation: fadeIn 1.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .btn { 
            background: linear-gradient(45deg, #ff4d6d, #ff758f);
            color: white; border: none; padding: 15px 30px; 
            border-radius: 50px; cursor: pointer; margin: 10px;
            font-weight: bold; font-size: 1rem;
        }
        
        #timer { font-size: 8rem; font-weight: 900; color: var(--primary); }
        .song-info { margin-bottom: 15px; font-style: italic; color: var(--star-gold); }
    </style>
</head>
<body onclick="spawnParticle()">

    <section id="countdown-sec">
        <h2 style="letter-spacing: 2px;">THE CELEBRATION STARTS IN...</h2>
        <div id="timer">5</div>
    </section>

    <section id="slider-sec">
        <div class="song-info">ğŸµ Now Playing: Sunn Raha Hai Na Tu</div>
        <button id="playBtn" class="btn" onclick="handleMusic()">Play Song & Reveal ğŸ’–</button>
        
        <div id="slider-content" style="display: none; flex-direction: column; align-items: center;">
            <div class="slider-3d">
                <div class="item" style="transform: rotateY(0deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=1"></div>
                <div class="item" style="transform: rotateY(45deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=2"></div>
                <div class="item" style="transform: rotateY(90deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=3"></div>
                <div class="item" style="transform: rotateY(135deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=4"></div>
                <div class="item" style="transform: rotateY(180deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=5"></div>
                <div class="item" style="transform: rotateY(225deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=6"></div>
                <div class="item" style="transform: rotateY(270deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=7"></div>
                <div class="item" style="transform: rotateY(315deg) translateZ(320px);"><img src="https://picsum.photos/200/300?r=8"></div>
            </div>
            <button class="btn" onclick="navigate('cake-sec')">Next Step: The Cake ğŸ‚</button>
        </div>
    </section>

    <section id="cake-sec">
        <div class="cake-container" id="cakeEmoji" onclick="handleCakeCut()">ğŸ‚</div>
        <h2 id="cakeText">Make a Wish... then Tap to Cut!</h2>
    </section>

    <section id="letter-sec">
        <div class="hidden-letter" style="display: block;">
            <h2 style="color: var(--star-gold);">ğŸŒŸ My Shining Star ğŸŒŸ</h2>
            <p style="line-height: 1.8;">
                ğŸŒ¹â™¥ï¸ <i>"You don't know how much I love you. You are my shining star in every season."</i> â™¥ï¸ğŸŒ¹ğŸ’œ
            </p>
            <hr style="border: 0.5px solid var(--star-gold); margin: 20px 0;">
            
            <div id="quiz-area">
                <p>Do you feel the same way? ğŸ¥º</p>
                <button class="btn" onclick="showLastMsg()">Yes</button>
                <button class="btn" onclick="alert('Try again! I know you love me! ğŸ˜‰')">No</button>
            </div>

            <div id="final-area" style="display:none;">
                <p>Thank you for being you! Click below to send me your love.</p>
                <button class="btn" onclick="sendFinalWhatsApp()">Thanks for wishing my Birthday â¤ï¸</button>
            </div>
        </div>
    </section>

    <audio id="player" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script>
        const player = document.getElementById('player');
        
        // 1. Countdown Logic
        let count = 5;
        const countInterval = setInterval(() => {
            count--;
            document.getElementById('timer').innerText = count;
            if(count <= 0) {
                clearInterval(countInterval);
                navigate('slider-sec');
            }
        }, 1000);

        function navigate(id) {
            document.querySelectorAll('section').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'flex';
        }

        // 2. Music Toggle
        function handleMusic() {
            if (player.paused) {
                player.play();
                document.getElementById('playBtn').style.display = 'none';
                document.getElementById('slider-content').style.display = 'flex';
            }
        }

        // 3. Cake Logic
        function handleCakeCut() {
            document.getElementById('cakeEmoji').innerText = "ğŸ°";
            document.getElementById('cakeText').innerText = "Opening your secret letter...";
            setTimeout(() => { navigate('letter-sec'); }, 1500);
        }

        // 4. Quiz Logic
        function showLastMsg() {
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('final-area').style.display = 'block';
        }

        // 5. WhatsApp Logic
        function sendFinalWhatsApp() {
            const phone = "923256437933";
            const text = "Thanks for wishing my Birthday â¤ï¸ You are my shining star!";
            window.open(`https://wa.me/${phone}?text=${encodeURIComponent(text)}`, '_blank');
        }

        // Falling Decorations
        function spawnParticle() {
            const p = document.createElement('div');
            p.className = 'particle';
            const types = ['ğŸŒ¹', 'â¤ï¸', 'ğŸŒŸ', 'ğŸ’œ'];
            p.innerHTML = types[Math.floor(Math.random() * types.length)];
            p.style.left = Math.random() * 100 + 'vw';
            p.style.fontSize = (Math.random() * 20 + 20) + 'px';
            p.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 5000);
        }
        setInterval(spawnParticle, 300);
    </script>
</body>
</html>
